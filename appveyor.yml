version: 1.0.{build}
image: Visual Studio 2017
before_build:
- ps: nuget restore
build:
  project: GGit.sln
  verbosity: minimal
after_build:
- ps: Get-ChildItem GGit/bin -Recurse | Where-Object {$_.Extension -ne ".gha" -and $_.Extension -ne ".dll" -and $_ -is [io.fileinfo]} | ForEach-Object {Remove-Item -Force -Path $_.FullName};Get-ChildItem GGit/bin/lib | Where-Object {$_.Name -ne "win32"} | Remove-Item -Recurse -Force;
artifacts:
- path: GGit/bin
  name: GGit
deploy:
- provider: GitHub
  auth_token:
    secure: wBRUgTcJLpK8LROfc4ufglCXIHsnxm/e4t5wWK4jgA+R16mIyZMCsajXNNuzwFDt
  draft: true